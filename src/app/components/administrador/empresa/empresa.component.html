<form [formGroup]="companyForm" (ngSubmit)="updateCompanyInfo()">
  <div>
    <label for="nombre">Nombre:</label>
    <input id="nombre" formControlName="nombre" required />
    <div *ngIf="companyForm.get('nombre')?.invalid && (companyForm.get('nombre')?.touched || companyForm.get('nombre')?.dirty)">
      <small class="error">El nombre es obligatorio.</small>
    </div>
  </div>

  <div>
    <label for="slogan">Slogan:</label>
    <input id="slogan" formControlName="slogan" />
  </div>

  <div>
    <label for="logo">Logo (URL):</label>
    <input id="logo" formControlName="logo" />
  </div>

  <div>
    <label for="titulo_pagina">Título de la Página:</label>
    <input id="titulo_pagina" formControlName="titulo_pagina" />
  </div>

  <div>
    <label for="email">Email:</label>
    <input id="email" formControlName="email" required />
    <div *ngIf="companyForm.get('email')?.invalid && (companyForm.get('email')?.touched || companyForm.get('email')?.dirty)">
      <small class="error">El email es obligatorio y debe ser válido.</small>
    </div>
  </div>

  <fieldset formGroupName="direccion">
    <legend>Dirección</legend>
    <div *ngFor="let field of ['calle', 'ciudad', 'estado', 'codigo_postal', 'pais']">
      <label [for]="field">{{ field.charAt(0).toUpperCase() + field.slice(1) }}:</label>
      <input [id]="field" [formControlName]="field" required />
      <div *ngIf="companyForm.get('direccion')?.get(field)?.invalid && (companyForm.get('direccion')?.get(field)?.touched || companyForm.get('direccion')?.get(field)?.dirty)">
        <small class="error">{{ field.charAt(0).toUpperCase() + field.slice(1) }} es obligatorio.</small>
      </div>
    </div>
  </fieldset>

  <fieldset formGroupName="telefono">
    <legend>Teléfono</legend>
    <div>
      <label for="numero">Número:</label>
      <input id="numero" formControlName="numero" required />
      <div *ngIf="companyForm.get('telefono')?.get('numero')?.invalid && (companyForm.get('telefono')?.get('numero')?.touched || companyForm.get('telefono')?.get('numero')?.dirty)">
        <small class="error">El número es obligatorio.</small>
      </div>
    </div>

    <div>
      <label for="extension">Extensión:</label>
      <input id="extension" formControlName="extension" />
    </div>
  </fieldset>

  <fieldset formGroupName="redes_sociales">
    <legend>Redes Sociales</legend>
    <div *ngFor="let platform of ['facebook', 'twitter', 'linkedin', 'instagram']">
      <label [for]="platform">{{ platform.charAt(0).toUpperCase() + platform.slice(1) }}:</label>
      <input [id]="platform" [formControlName]="platform" />
      <!-- Eliminado el botón de eliminar redes sociales -->
    </div>
  </fieldset>

  <button type="submit">Actualizar Información</button>

  <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
</form>
